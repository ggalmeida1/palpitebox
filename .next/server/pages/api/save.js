/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function() {
var exports = {};
exports.id = "pages/api/save";
exports.ids = ["pages/api/save"];
exports.modules = {

/***/ "./credentials.json":
/*!**************************!*\
  !*** ./credentials.json ***!
  \**************************/
/***/ (function(module) {

"use strict";
module.exports = JSON.parse('{"type":"service_account","project_id":"palpitebox-318712","private_key_id":"e52f89fb95c6eb64766be9ca94a2246174296de0","private_key":"-----BEGIN PRIVATE KEY-----\\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCsZCIp8Fi74Yyq\\nm2NrzbOzieTx/cDtLM4BdRbYCoS1uzHjMGAHjA3ZjJ9H7tUIstZ1WvYt9Avd1JAz\\nzPB/i9l3oQUjlj1AQCqulRdQLRchARYKS20veHYCzp0f3seECBQNEhIfjfkoOyCj\\n3pX5Eq3OYVk6F2cJ60YjeEyqMelVW5rIcVfrDnawZ6+MWw4LXcQKntH/8HOwAntd\\nwy5arIHliRemM7q4Dep0maXztxXISQ6kAJ/FaHuomkmKJfkekTS/gzGJTKn8E85w\\nPSNiQSlhsuvzorGVMAcQ3nETcvQgcYpCjKb5mj7m4u9t6QzbZkLA4aOlv6lG65Zt\\nhHKMF9CdAgMBAAECggEAB0kvdR9Og25LxYAjamXQulNRz5/JEh0VKH7xiWL0a0Ev\\nTBSk0lzVzwPVot18t807KXg/3v7+q2WgTJgqR/G6A1zU/JqNGdSRw+bS4UAZR1Cm\\nRPwdcBFYHNPs/xupdLKUtQgLp7Vr5N/kMsN7Ci0DFy21GYfuAmolAOXE3mKVToFV\\nXVautlSrPRXO3MBs9nmb4NmFzu+x56nIDCh+N2kqsJxH0peLrvx3Pmz85mWy0E6q\\nnAJ7BG+t95bSnqGlYNUcQZpWl85NHgUOkeDaiZI3nmAP49KSksaHlSEPBtXWdGOV\\np8sULD2D4Z/XYL1XWaDhZp/rREPD12S1jfad5UYHEQKBgQDWaPCitjx4twd/C5tF\\n/KISqZywFsY7HcEQTe1PoD1jPqAIh+5yXMs7qEtuSdQHYSD5C/xePakTN8c+5oPL\\nrbkDC8uuyEiUswjFtU/IWb+BrK4YVU9EWAvPTmSscEaSUu00p9VpI0g6e8VfCcBl\\nR4kKL+z3Oue+Cwj2QWShpzu1qQKBgQDN1KVxGpE+D/Qqaa2Vue1efljH9HSu9u9D\\nqfMCvIY/UFOxLkG+u9SB1AhIolRxAPfI8T53JOG00euPmIiPRiFPGqNUKKYYPnmo\\nYkDKsFNVPZr1+uxSU5tCENKyXNH22M3yPnxHKG/7eJ6iaBEMG3XLoNatK6shJh1Z\\nymp6IhEz1QKBgCMvl4XsSCI7TySfP/0NR3+ujAMtyZw79sn5L9+oWUqnJVYhEJV9\\n+vAwXyibPwty+hlEyUah8dQwjCcbZzeOq9T/I47sWVTlyKPBbHVhnRbnwq5FmbuK\\ng22i3MybpEkxCLJidJhLbPgEBdDh5cv5IFkmokm0RgGfB/p5os0Qh7D5AoGAdMOf\\nHuyNXIG8Z5sPqBKTf7l5L+WTk/XtgZsVioXcOmqdL7QoA8WWJhhcoqfD818zMcD5\\nSKmZiPRVB17miTClkLRx1zpADxzR8x3Z16HzhDWwhL5V9dYMC4xzmk9hpQEUw8mC\\nwvNDo4qno0YZ9Z5WUq/pWM+fAu0WVWuov6Q30gkCgYBfJOxAESrUx9tSWROvcjzv\\njS3bdcqoobWEqy6LybYRju8jodKey6WHVCJEqiIYNxz6/5VzkvrDX8aRNkJAvmSU\\nBC24xIQIFxt5qr9u1YQTQG84AYh+Ikgq3GhK0mBw4KHipnuQPZUfWFLyh7KgTAlV\\nj7hcoZ9YimnyekbceZWW7Q==\\n-----END PRIVATE KEY-----\\n","client_email":"palpitebox@palpitebox-318712.iam.gserviceaccount.com","client_id":"118267740061605510876","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/palpitebox%40palpitebox-318712.iam.gserviceaccount.com"}');

/***/ }),

/***/ "./pages/api/save.js":
/*!***************************!*\
  !*** ./pages/api/save.js ***!
  \***************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var google_spreadsheet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! google-spreadsheet */ \"google-spreadsheet\");\n/* harmony import */ var google_spreadsheet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(google_spreadsheet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _credentials_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../credentials.json */ \"./credentials.json\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst doc = new google_spreadsheet__WEBPACK_IMPORTED_MODULE_0__.GoogleSpreadsheet('1SAAMcB336n6yW6GGe8eUHvgQ7OZcvx9gXI_n0oZVv_k');\n\nconst genCupom = () => {\n  const code = parseInt(moment__WEBPACK_IMPORTED_MODULE_2___default()().format('YYMMDDHHmmssSSS')).toString(16).toUpperCase();\n  return code.substr(0, 4) + '-' + code.substr(4, 4) + '-' + code.substr(8, 4);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (async (req, res) => {\n  try {\n    await doc.useServiceAccountAuth(_credentials_json__WEBPACK_IMPORTED_MODULE_1__);\n    await doc.loadInfo();\n    const sheet = doc.sheetsByIndex[1];\n    const data = JSON.parse(req.body);\n    const sheetConfig = doc.sheetsByIndex[2];\n    await sheetConfig.loadCells('A3:B3');\n    const mostrarPromocaoCell = sheetConfig.getCell(2, 0);\n    const textoCell = sheetConfig.getCell(2, 1);\n    let Cupom = '';\n    let Promo = '';\n\n    if (mostrarPromocaoCell.value === 'VERDADEIRO') {\n      //To-do: Generate Coupon\n      Cupom = genCupom();\n      Promo = textoCell.value;\n    } //Nome Email WhatsApp Cupom Promo\n\n\n    await sheet.addRow({\n      Nome: data.Nome,\n      Email: data.Email,\n      Whatsapp: data.Whatsapp,\n      Nota: 5,\n      'Data Preenchimento': moment__WEBPACK_IMPORTED_MODULE_2___default()().format('DD/MM/YYYY HH:mm'),\n      Cupom,\n      Promo\n    });\n    res.end(req.body);\n  } catch (err) {\n    console.log(err);\n    res.end('error');\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wYWxwaXRlYm94Ly4vcGFnZXMvYXBpL3NhdmUuanM/YWM1OCJdLCJuYW1lcyI6WyJkb2MiLCJHb29nbGVTcHJlYWRzaGVldCIsImdlbkN1cG9tIiwiY29kZSIsInBhcnNlSW50IiwibW9tZW50IiwiZm9ybWF0IiwidG9TdHJpbmciLCJ0b1VwcGVyQ2FzZSIsInN1YnN0ciIsInJlcSIsInJlcyIsInVzZVNlcnZpY2VBY2NvdW50QXV0aCIsImNyZWRlbnRpYWxzIiwibG9hZEluZm8iLCJzaGVldCIsInNoZWV0c0J5SW5kZXgiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwiYm9keSIsInNoZWV0Q29uZmlnIiwibG9hZENlbGxzIiwibW9zdHJhclByb21vY2FvQ2VsbCIsImdldENlbGwiLCJ0ZXh0b0NlbGwiLCJDdXBvbSIsIlByb21vIiwidmFsdWUiLCJhZGRSb3ciLCJOb21lIiwiRW1haWwiLCJXaGF0c2FwcCIsIk5vdGEiLCJlbmQiLCJlcnIiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxHQUFHLEdBQUcsSUFBSUMsaUVBQUosQ0FBc0IsOENBQXRCLENBQVo7O0FBRUEsTUFBTUMsUUFBUSxHQUFHLE1BQU07QUFDbkIsUUFBTUMsSUFBSSxHQUFHQyxRQUFRLENBQUNDLDZDQUFNLEdBQUdDLE1BQVQsQ0FBZ0IsaUJBQWhCLENBQUQsQ0FBUixDQUE2Q0MsUUFBN0MsQ0FBc0QsRUFBdEQsRUFBMERDLFdBQTFELEVBQWI7QUFDQSxTQUFPTCxJQUFJLENBQUNNLE1BQUwsQ0FBWSxDQUFaLEVBQWUsQ0FBZixJQUFvQixHQUFwQixHQUEwQk4sSUFBSSxDQUFDTSxNQUFMLENBQVksQ0FBWixFQUFlLENBQWYsQ0FBMUIsR0FBOEMsR0FBOUMsR0FBb0ROLElBQUksQ0FBQ00sTUFBTCxDQUFZLENBQVosRUFBZSxDQUFmLENBQTNEO0FBQ0gsQ0FIRDs7QUFLQSwrREFBZSxPQUFNQyxHQUFOLEVBQVdDLEdBQVgsS0FBbUI7QUFFOUIsTUFBSTtBQUNBLFVBQU1YLEdBQUcsQ0FBQ1kscUJBQUosQ0FBMEJDLDhDQUExQixDQUFOO0FBQ0EsVUFBTWIsR0FBRyxDQUFDYyxRQUFKLEVBQU47QUFDQSxVQUFNQyxLQUFLLEdBQUdmLEdBQUcsQ0FBQ2dCLGFBQUosQ0FBa0IsQ0FBbEIsQ0FBZDtBQUNBLFVBQU1DLElBQUksR0FBR0MsSUFBSSxDQUFDQyxLQUFMLENBQVdULEdBQUcsQ0FBQ1UsSUFBZixDQUFiO0FBR0EsVUFBTUMsV0FBVyxHQUFHckIsR0FBRyxDQUFDZ0IsYUFBSixDQUFrQixDQUFsQixDQUFwQjtBQUNBLFVBQU1LLFdBQVcsQ0FBQ0MsU0FBWixDQUFzQixPQUF0QixDQUFOO0FBRUEsVUFBTUMsbUJBQW1CLEdBQUdGLFdBQVcsQ0FBQ0csT0FBWixDQUFvQixDQUFwQixFQUF1QixDQUF2QixDQUE1QjtBQUNBLFVBQU1DLFNBQVMsR0FBR0osV0FBVyxDQUFDRyxPQUFaLENBQW9CLENBQXBCLEVBQXNCLENBQXRCLENBQWxCO0FBRUEsUUFBSUUsS0FBSyxHQUFHLEVBQVo7QUFDQSxRQUFJQyxLQUFLLEdBQUcsRUFBWjs7QUFDQSxRQUFJSixtQkFBbUIsQ0FBQ0ssS0FBcEIsS0FBOEIsWUFBbEMsRUFBZ0Q7QUFDNUM7QUFDQUYsV0FBSyxHQUFHeEIsUUFBUSxFQUFoQjtBQUNBeUIsV0FBSyxHQUFHRixTQUFTLENBQUNHLEtBQWxCO0FBQ0gsS0FuQkQsQ0FxQkE7OztBQUNBLFVBQU1iLEtBQUssQ0FBQ2MsTUFBTixDQUFhO0FBQ2ZDLFVBQUksRUFBRWIsSUFBSSxDQUFDYSxJQURJO0FBRWZDLFdBQUssRUFBRWQsSUFBSSxDQUFDYyxLQUZHO0FBR2ZDLGNBQVEsRUFBRWYsSUFBSSxDQUFDZSxRQUhBO0FBSWZDLFVBQUksRUFBRSxDQUpTO0FBS2YsNEJBQXNCNUIsNkNBQU0sR0FBR0MsTUFBVCxDQUFnQixrQkFBaEIsQ0FMUDtBQU1mb0IsV0FOZTtBQU9mQztBQVBlLEtBQWIsQ0FBTjtBQVNBaEIsT0FBRyxDQUFDdUIsR0FBSixDQUFReEIsR0FBRyxDQUFDVSxJQUFaO0FBRUgsR0FqQ0QsQ0FpQ0MsT0FBTWUsR0FBTixFQUFXO0FBQ1JDLFdBQU8sQ0FBQ0MsR0FBUixDQUFZRixHQUFaO0FBQ0F4QixPQUFHLENBQUN1QixHQUFKLENBQVEsT0FBUjtBQUNIO0FBQ0osQ0F2Q0QiLCJmaWxlIjoiLi9wYWdlcy9hcGkvc2F2ZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdvb2dsZVNwcmVhZHNoZWV0IH0gZnJvbSAnZ29vZ2xlLXNwcmVhZHNoZWV0J1xuaW1wb3J0IGNyZWRlbnRpYWxzIGZyb20gJy4uLy4uL2NyZWRlbnRpYWxzLmpzb24nXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCdcblxuY29uc3QgZG9jID0gbmV3IEdvb2dsZVNwcmVhZHNoZWV0KCcxU0FBTWNCMzM2bjZ5VzZHR2U4ZVVIdmdRN09aY3Z4OWdYSV9uMG9aVnZfaycpXG5cbmNvbnN0IGdlbkN1cG9tID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvZGUgPSBwYXJzZUludChtb21lbnQoKS5mb3JtYXQoJ1lZTU1EREhIbW1zc1NTUycpKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKVxuICAgIHJldHVybiBjb2RlLnN1YnN0cigwLCA0KSArICctJyArIGNvZGUuc3Vic3RyKDQsIDQpICsgJy0nICsgY29kZS5zdWJzdHIoOCwgNClcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMocmVxLCByZXMpID0+IHtcblxuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRvYy51c2VTZXJ2aWNlQWNjb3VudEF1dGgoY3JlZGVudGlhbHMpXG4gICAgICAgIGF3YWl0IGRvYy5sb2FkSW5mbygpXG4gICAgICAgIGNvbnN0IHNoZWV0ID0gZG9jLnNoZWV0c0J5SW5kZXhbMV1cbiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmVxLmJvZHkpXG5cblxuICAgICAgICBjb25zdCBzaGVldENvbmZpZyA9IGRvYy5zaGVldHNCeUluZGV4WzJdXG4gICAgICAgIGF3YWl0IHNoZWV0Q29uZmlnLmxvYWRDZWxscygnQTM6QjMnKVxuICAgIFxuICAgICAgICBjb25zdCBtb3N0cmFyUHJvbW9jYW9DZWxsID0gc2hlZXRDb25maWcuZ2V0Q2VsbCgyLCAwKVxuICAgICAgICBjb25zdCB0ZXh0b0NlbGwgPSBzaGVldENvbmZpZy5nZXRDZWxsKDIsMSlcblxuICAgICAgICBsZXQgQ3Vwb20gPSAnJ1xuICAgICAgICBsZXQgUHJvbW8gPSAnJ1xuICAgICAgICBpZiAobW9zdHJhclByb21vY2FvQ2VsbC52YWx1ZSA9PT0gJ1ZFUkRBREVJUk8nKSB7XG4gICAgICAgICAgICAvL1RvLWRvOiBHZW5lcmF0ZSBDb3Vwb25cbiAgICAgICAgICAgIEN1cG9tID0gZ2VuQ3Vwb20gKClcbiAgICAgICAgICAgIFByb21vID0gdGV4dG9DZWxsLnZhbHVlXG4gICAgICAgIH1cblxuICAgICAgICAvL05vbWUgRW1haWwgV2hhdHNBcHAgQ3Vwb20gUHJvbW9cbiAgICAgICAgYXdhaXQgc2hlZXQuYWRkUm93KHtcbiAgICAgICAgICAgIE5vbWU6IGRhdGEuTm9tZSxcbiAgICAgICAgICAgIEVtYWlsOiBkYXRhLkVtYWlsLFxuICAgICAgICAgICAgV2hhdHNhcHA6IGRhdGEuV2hhdHNhcHAsXG4gICAgICAgICAgICBOb3RhOiA1LFxuICAgICAgICAgICAgJ0RhdGEgUHJlZW5jaGltZW50byc6IG1vbWVudCgpLmZvcm1hdCgnREQvTU0vWVlZWSBISDptbScpLFxuICAgICAgICAgICAgQ3Vwb20sXG4gICAgICAgICAgICBQcm9tb1xuICAgICAgICB9KVxuICAgICAgICByZXMuZW5kKHJlcS5ib2R5KVxuXG4gICAgfWNhdGNoKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgIHJlcy5lbmQoJ2Vycm9yJylcbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/api/save.js\n");

/***/ }),

/***/ "google-spreadsheet":
/*!*************************************!*\
  !*** external "google-spreadsheet" ***!
  \*************************************/
/***/ (function(module) {

"use strict";
module.exports = require("google-spreadsheet");;

/***/ }),

/***/ "moment":
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/***/ (function(module) {

"use strict";
module.exports = require("moment");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
var __webpack_exports__ = (__webpack_exec__("./pages/api/save.js"));
module.exports = __webpack_exports__;

})();