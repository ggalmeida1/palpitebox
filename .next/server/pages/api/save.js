/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function() {
var exports = {};
exports.id = "pages/api/save";
exports.ids = ["pages/api/save"];
exports.modules = {

/***/ "./credentials.json":
/*!**************************!*\
  !*** ./credentials.json ***!
  \**************************/
/***/ (function(module) {

"use strict";
module.exports = JSON.parse('{"type":"service_account","project_id":"palpitebox-318712","private_key_id":"e52f89fb95c6eb64766be9ca94a2246174296de0","private_key":"-----BEGIN PRIVATE KEY-----\\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCsZCIp8Fi74Yyq\\nm2NrzbOzieTx/cDtLM4BdRbYCoS1uzHjMGAHjA3ZjJ9H7tUIstZ1WvYt9Avd1JAz\\nzPB/i9l3oQUjlj1AQCqulRdQLRchARYKS20veHYCzp0f3seECBQNEhIfjfkoOyCj\\n3pX5Eq3OYVk6F2cJ60YjeEyqMelVW5rIcVfrDnawZ6+MWw4LXcQKntH/8HOwAntd\\nwy5arIHliRemM7q4Dep0maXztxXISQ6kAJ/FaHuomkmKJfkekTS/gzGJTKn8E85w\\nPSNiQSlhsuvzorGVMAcQ3nETcvQgcYpCjKb5mj7m4u9t6QzbZkLA4aOlv6lG65Zt\\nhHKMF9CdAgMBAAECggEAB0kvdR9Og25LxYAjamXQulNRz5/JEh0VKH7xiWL0a0Ev\\nTBSk0lzVzwPVot18t807KXg/3v7+q2WgTJgqR/G6A1zU/JqNGdSRw+bS4UAZR1Cm\\nRPwdcBFYHNPs/xupdLKUtQgLp7Vr5N/kMsN7Ci0DFy21GYfuAmolAOXE3mKVToFV\\nXVautlSrPRXO3MBs9nmb4NmFzu+x56nIDCh+N2kqsJxH0peLrvx3Pmz85mWy0E6q\\nnAJ7BG+t95bSnqGlYNUcQZpWl85NHgUOkeDaiZI3nmAP49KSksaHlSEPBtXWdGOV\\np8sULD2D4Z/XYL1XWaDhZp/rREPD12S1jfad5UYHEQKBgQDWaPCitjx4twd/C5tF\\n/KISqZywFsY7HcEQTe1PoD1jPqAIh+5yXMs7qEtuSdQHYSD5C/xePakTN8c+5oPL\\nrbkDC8uuyEiUswjFtU/IWb+BrK4YVU9EWAvPTmSscEaSUu00p9VpI0g6e8VfCcBl\\nR4kKL+z3Oue+Cwj2QWShpzu1qQKBgQDN1KVxGpE+D/Qqaa2Vue1efljH9HSu9u9D\\nqfMCvIY/UFOxLkG+u9SB1AhIolRxAPfI8T53JOG00euPmIiPRiFPGqNUKKYYPnmo\\nYkDKsFNVPZr1+uxSU5tCENKyXNH22M3yPnxHKG/7eJ6iaBEMG3XLoNatK6shJh1Z\\nymp6IhEz1QKBgCMvl4XsSCI7TySfP/0NR3+ujAMtyZw79sn5L9+oWUqnJVYhEJV9\\n+vAwXyibPwty+hlEyUah8dQwjCcbZzeOq9T/I47sWVTlyKPBbHVhnRbnwq5FmbuK\\ng22i3MybpEkxCLJidJhLbPgEBdDh5cv5IFkmokm0RgGfB/p5os0Qh7D5AoGAdMOf\\nHuyNXIG8Z5sPqBKTf7l5L+WTk/XtgZsVioXcOmqdL7QoA8WWJhhcoqfD818zMcD5\\nSKmZiPRVB17miTClkLRx1zpADxzR8x3Z16HzhDWwhL5V9dYMC4xzmk9hpQEUw8mC\\nwvNDo4qno0YZ9Z5WUq/pWM+fAu0WVWuov6Q30gkCgYBfJOxAESrUx9tSWROvcjzv\\njS3bdcqoobWEqy6LybYRju8jodKey6WHVCJEqiIYNxz6/5VzkvrDX8aRNkJAvmSU\\nBC24xIQIFxt5qr9u1YQTQG84AYh+Ikgq3GhK0mBw4KHipnuQPZUfWFLyh7KgTAlV\\nj7hcoZ9YimnyekbceZWW7Q==\\n-----END PRIVATE KEY-----\\n","client_email":"palpitebox@palpitebox-318712.iam.gserviceaccount.com","client_id":"118267740061605510876","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/palpitebox%40palpitebox-318712.iam.gserviceaccount.com"}');

/***/ }),

/***/ "./pages/api/save.js":
/*!***************************!*\
  !*** ./pages/api/save.js ***!
  \***************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var google_spreadsheet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! google-spreadsheet */ \"google-spreadsheet\");\n/* harmony import */ var google_spreadsheet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(google_spreadsheet__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _credentials_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../credentials.json */ \"./credentials.json\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst doc = new google_spreadsheet__WEBPACK_IMPORTED_MODULE_0__.GoogleSpreadsheet('1SAAMcB336n6yW6GGe8eUHvgQ7OZcvx9gXI_n0oZVv_k');\n\nconst genCupom = () => {\n  const code = parseInt(moment__WEBPACK_IMPORTED_MODULE_2___default()().format('YYMMDDHHmmssSSS')).toString(16).toUpperCase();\n  return code.substr(0, 4) + '-' + code.substr(4, 4) + '-' + code.substr(8, 4);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (async (req, res) => {\n  try {\n    await doc.useServiceAccountAuth(_credentials_json__WEBPACK_IMPORTED_MODULE_1__);\n    await doc.loadInfo();\n    const sheet = doc.sheetsByIndex[1];\n    const data = JSON.parse(req.body); //console.log(data)\n\n    const sheetConfig = doc.sheetsByIndex[2];\n    await sheetConfig.loadCells('A3:B3');\n    const mostrarPromocaoCell = sheetConfig.getCell(2, 0);\n    const textoCell = sheetConfig.getCell(2, 1);\n    let Cupom = '';\n    let Promo = '';\n\n    if (mostrarPromocaoCell.value === 'VERDADEIRO') {\n      Cupom = genCupom();\n      Promo = textoCell.value;\n    }\n\n    await sheet.addRow({\n      Nome: data.Nome,\n      Email: data.Email,\n      WhatsApp: data.WhatsApp,\n      Nota: parseInt(data.Nota),\n      'Data Preenchimento': moment__WEBPACK_IMPORTED_MODULE_2___default()().format('DD/MM/YYYY HH:mm'),\n      Cupom,\n      Promo\n    });\n    res.end(JSON.stringify({\n      showCoupon: Cupom !== '',\n      Cupom,\n      Promo\n    }));\n  } catch (err) {\n    console.log(err);\n    res.end('error');\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wYWxwaXRlYm94Ly4vcGFnZXMvYXBpL3NhdmUuanM/YWM1OCJdLCJuYW1lcyI6WyJkb2MiLCJHb29nbGVTcHJlYWRzaGVldCIsImdlbkN1cG9tIiwiY29kZSIsInBhcnNlSW50IiwibW9tZW50IiwiZm9ybWF0IiwidG9TdHJpbmciLCJ0b1VwcGVyQ2FzZSIsInN1YnN0ciIsInJlcSIsInJlcyIsInVzZVNlcnZpY2VBY2NvdW50QXV0aCIsImNyZWRlbnRpYWxzIiwibG9hZEluZm8iLCJzaGVldCIsInNoZWV0c0J5SW5kZXgiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwiYm9keSIsInNoZWV0Q29uZmlnIiwibG9hZENlbGxzIiwibW9zdHJhclByb21vY2FvQ2VsbCIsImdldENlbGwiLCJ0ZXh0b0NlbGwiLCJDdXBvbSIsIlByb21vIiwidmFsdWUiLCJhZGRSb3ciLCJOb21lIiwiRW1haWwiLCJXaGF0c0FwcCIsIk5vdGEiLCJlbmQiLCJzdHJpbmdpZnkiLCJzaG93Q291cG9uIiwiZXJyIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUEsTUFBTUEsR0FBRyxHQUFHLElBQUlDLGlFQUFKLENBQXNCLDhDQUF0QixDQUFaOztBQUVBLE1BQU1DLFFBQVEsR0FBRyxNQUFNO0FBQ25CLFFBQU1DLElBQUksR0FBR0MsUUFBUSxDQUFDQyw2Q0FBTSxHQUFHQyxNQUFULENBQWdCLGlCQUFoQixDQUFELENBQVIsQ0FBNkNDLFFBQTdDLENBQXNELEVBQXRELEVBQTBEQyxXQUExRCxFQUFiO0FBQ0EsU0FBT0wsSUFBSSxDQUFDTSxNQUFMLENBQVksQ0FBWixFQUFlLENBQWYsSUFBb0IsR0FBcEIsR0FBMEJOLElBQUksQ0FBQ00sTUFBTCxDQUFZLENBQVosRUFBZSxDQUFmLENBQTFCLEdBQThDLEdBQTlDLEdBQW9ETixJQUFJLENBQUNNLE1BQUwsQ0FBWSxDQUFaLEVBQWUsQ0FBZixDQUEzRDtBQUNILENBSEQ7O0FBS0EsK0RBQWUsT0FBTUMsR0FBTixFQUFXQyxHQUFYLEtBQW1CO0FBRTlCLE1BQUk7QUFDQSxVQUFNWCxHQUFHLENBQUNZLHFCQUFKLENBQTBCQyw4Q0FBMUIsQ0FBTjtBQUNBLFVBQU1iLEdBQUcsQ0FBQ2MsUUFBSixFQUFOO0FBQ0EsVUFBTUMsS0FBSyxHQUFHZixHQUFHLENBQUNnQixhQUFKLENBQWtCLENBQWxCLENBQWQ7QUFDQSxVQUFNQyxJQUFJLEdBQUdDLElBQUksQ0FBQ0MsS0FBTCxDQUFXVCxHQUFHLENBQUNVLElBQWYsQ0FBYixDQUpBLENBS0E7O0FBRUEsVUFBTUMsV0FBVyxHQUFHckIsR0FBRyxDQUFDZ0IsYUFBSixDQUFrQixDQUFsQixDQUFwQjtBQUNBLFVBQU1LLFdBQVcsQ0FBQ0MsU0FBWixDQUFzQixPQUF0QixDQUFOO0FBRUEsVUFBTUMsbUJBQW1CLEdBQUdGLFdBQVcsQ0FBQ0csT0FBWixDQUFvQixDQUFwQixFQUF1QixDQUF2QixDQUE1QjtBQUNBLFVBQU1DLFNBQVMsR0FBR0osV0FBVyxDQUFDRyxPQUFaLENBQW9CLENBQXBCLEVBQXNCLENBQXRCLENBQWxCO0FBRUEsUUFBSUUsS0FBSyxHQUFHLEVBQVo7QUFDQSxRQUFJQyxLQUFLLEdBQUcsRUFBWjs7QUFDQSxRQUFJSixtQkFBbUIsQ0FBQ0ssS0FBcEIsS0FBOEIsWUFBbEMsRUFBZ0Q7QUFDNUNGLFdBQUssR0FBR3hCLFFBQVEsRUFBaEI7QUFDQXlCLFdBQUssR0FBR0YsU0FBUyxDQUFDRyxLQUFsQjtBQUNIOztBQUVELFVBQU1iLEtBQUssQ0FBQ2MsTUFBTixDQUFhO0FBQ2ZDLFVBQUksRUFBRWIsSUFBSSxDQUFDYSxJQURJO0FBRWZDLFdBQUssRUFBRWQsSUFBSSxDQUFDYyxLQUZHO0FBR2ZDLGNBQVEsRUFBRWYsSUFBSSxDQUFDZSxRQUhBO0FBSWZDLFVBQUksRUFBRTdCLFFBQVEsQ0FBQ2EsSUFBSSxDQUFDZ0IsSUFBTixDQUpDO0FBS2YsNEJBQXNCNUIsNkNBQU0sR0FBR0MsTUFBVCxDQUFnQixrQkFBaEIsQ0FMUDtBQU1mb0IsV0FOZTtBQU9mQztBQVBlLEtBQWIsQ0FBTjtBQVNBaEIsT0FBRyxDQUFDdUIsR0FBSixDQUFRaEIsSUFBSSxDQUFDaUIsU0FBTCxDQUFlO0FBQ25CQyxnQkFBVSxFQUFFVixLQUFLLEtBQUssRUFESDtBQUVuQkEsV0FGbUI7QUFHbkJDO0FBSG1CLEtBQWYsQ0FBUjtBQU1ILEdBbkNELENBbUNDLE9BQU1VLEdBQU4sRUFBVztBQUNSQyxXQUFPLENBQUNDLEdBQVIsQ0FBWUYsR0FBWjtBQUNBMUIsT0FBRyxDQUFDdUIsR0FBSixDQUFRLE9BQVI7QUFDSDtBQUNKLENBekNEIiwiZmlsZSI6Ii4vcGFnZXMvYXBpL3NhdmUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHb29nbGVTcHJlYWRzaGVldCB9IGZyb20gJ2dvb2dsZS1zcHJlYWRzaGVldCdcbmltcG9ydCBjcmVkZW50aWFscyBmcm9tICcuLi8uLi9jcmVkZW50aWFscy5qc29uJ1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnXG5cbmNvbnN0IGRvYyA9IG5ldyBHb29nbGVTcHJlYWRzaGVldCgnMVNBQU1jQjMzNm42eVc2R0dlOGVVSHZnUTdPWmN2eDlnWElfbjBvWlZ2X2snKVxuXG5jb25zdCBnZW5DdXBvbSA9ICgpID0+IHtcbiAgICBjb25zdCBjb2RlID0gcGFyc2VJbnQobW9tZW50KCkuZm9ybWF0KCdZWU1NRERISG1tc3NTU1MnKSkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKClcbiAgICByZXR1cm4gY29kZS5zdWJzdHIoMCwgNCkgKyAnLScgKyBjb2RlLnN1YnN0cig0LCA0KSArICctJyArIGNvZGUuc3Vic3RyKDgsIDQpXG59XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG5cbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBkb2MudXNlU2VydmljZUFjY291bnRBdXRoKGNyZWRlbnRpYWxzKVxuICAgICAgICBhd2FpdCBkb2MubG9hZEluZm8oKVxuICAgICAgICBjb25zdCBzaGVldCA9IGRvYy5zaGVldHNCeUluZGV4WzFdXG4gICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHJlcS5ib2R5KVxuICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpXG5cbiAgICAgICAgY29uc3Qgc2hlZXRDb25maWcgPSBkb2Muc2hlZXRzQnlJbmRleFsyXVxuICAgICAgICBhd2FpdCBzaGVldENvbmZpZy5sb2FkQ2VsbHMoJ0EzOkIzJylcbiAgICBcbiAgICAgICAgY29uc3QgbW9zdHJhclByb21vY2FvQ2VsbCA9IHNoZWV0Q29uZmlnLmdldENlbGwoMiwgMClcbiAgICAgICAgY29uc3QgdGV4dG9DZWxsID0gc2hlZXRDb25maWcuZ2V0Q2VsbCgyLDEpXG5cbiAgICAgICAgbGV0IEN1cG9tID0gJydcbiAgICAgICAgbGV0IFByb21vID0gJydcbiAgICAgICAgaWYgKG1vc3RyYXJQcm9tb2Nhb0NlbGwudmFsdWUgPT09ICdWRVJEQURFSVJPJykge1xuICAgICAgICAgICAgQ3Vwb20gPSBnZW5DdXBvbSAoKVxuICAgICAgICAgICAgUHJvbW8gPSB0ZXh0b0NlbGwudmFsdWVcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHNoZWV0LmFkZFJvdyh7XG4gICAgICAgICAgICBOb21lOiBkYXRhLk5vbWUsXG4gICAgICAgICAgICBFbWFpbDogZGF0YS5FbWFpbCxcbiAgICAgICAgICAgIFdoYXRzQXBwOiBkYXRhLldoYXRzQXBwLFxuICAgICAgICAgICAgTm90YTogcGFyc2VJbnQoZGF0YS5Ob3RhKSxcbiAgICAgICAgICAgICdEYXRhIFByZWVuY2hpbWVudG8nOiBtb21lbnQoKS5mb3JtYXQoJ0REL01NL1lZWVkgSEg6bW0nKSxcbiAgICAgICAgICAgIEN1cG9tLFxuICAgICAgICAgICAgUHJvbW9cbiAgICAgICAgfSlcbiAgICAgICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBzaG93Q291cG9uOiBDdXBvbSAhPT0gJycsXG4gICAgICAgICAgICBDdXBvbSxcbiAgICAgICAgICAgIFByb21vXG4gICAgICAgIH0pKVxuXG4gICAgfWNhdGNoKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgIHJlcy5lbmQoJ2Vycm9yJylcbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/api/save.js\n");

/***/ }),

/***/ "google-spreadsheet":
/*!*************************************!*\
  !*** external "google-spreadsheet" ***!
  \*************************************/
/***/ (function(module) {

"use strict";
module.exports = require("google-spreadsheet");;

/***/ }),

/***/ "moment":
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/***/ (function(module) {

"use strict";
module.exports = require("moment");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
var __webpack_exports__ = (__webpack_exec__("./pages/api/save.js"));
module.exports = __webpack_exports__;

})();